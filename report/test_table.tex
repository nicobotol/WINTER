\documentclass[11pt, a4paper]{article}
\usepackage[utf8]{inputenc}  
\usepackage[english]{babel}
\usepackage{float}   
\usepackage{array}
\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{multirow}
\usepackage{varwidth} %for the varwidth minipage environment
\newcolumntype{M}{>{\begin{varwidth}{4cm}}c<{\end{varwidth}}} %M is for Maximal column

\newcommand{\mesunt}[1]{\left[\si{#1}\right]}

\begin{document}

\section{Ciao}
\begin{table}[htb]
  \caption{Comparison of the energy extracted from the resource and at the generator's output for the use of IMM based or fixed gain controllers, and their error}
  \centering
  \begin{tabular}{cc|ccc|ccc}
    \toprule
    % write R above the third and fourth column and GE above the last two
    Integration & & \multicolumn{3}{c|}{Rotor} & \multicolumn{3}{c}{Generator Electrical output}\\
    time & WS & IMM & Const. & Err. & IMM & Const. & Err.\\
    $\mesunt{\second}$ & $\mesunt{\meter\per\second}$ & $\mesunt{\giga\joule}$ &   $\mesunt{\giga\joule}$ & $\left[\%\right]$& $\mesunt{\giga\joule}$ &   $\mesunt{\giga\joule}$ & $\left[\%\right]$ \\
    \midrule
    \input{macro/energy.tex}
  \end{tabular}
  \label{tab:comparison_IMM}
\end{table}

\begin{table}[htb]
  \caption{Mean value and standard deviation of the K gains in the simulations using the IMM}
  \centering
  \begin{tabular}{ccccc}
    \toprule
    Avg. time & WS & Mean & Std & Error \\
    $\mesunt{\second}$ & $\mesunt{\meter\per\second}$ & $\mesunt{\newton\meter\square\second}$ & $\mesunt{\newton\meter\square\second}$ & $\left[\%\right]$\\  \midrule
    \input{macro/mean_std_IMM.tex}
  \end{tabular}
  \label{tab:mean_std_IMM}
\end{table}

\end{document}